import{e as D,r as u}from"./index-DOYzD9QA.js";import{y as Y}from"./index-H1wMl_tP.js";import{c as G}from"./index-BdQq_4o_.js";import{c as A}from"./index-DW48STyt.js";import{u as M}from"./index-DMW9u2ZF.js";import{c as W}from"./index-DPl6ftfI.js";import{u as ue,a as fe}from"./index-C4f--Jk_.js";import{u as me}from"./index-CTg5oan3.js";import{u as pe}from"./index-kb0X7lFJ.js";import{P as V}from"./index-CgS8wkV7.js";import{S as X}from"./index-Bdu5OmIK.js";import{j as x}from"./jsx-runtime-DATRzywu.js";import{r as Se}from"./color.prop-Bz4j-_70.js";import{o as he}from"./high-contrast.prop-BhzBAZU8.js";import{r as ve}from"./radius.prop-1IxjFv-s.js";import{v as ge}from"./extract-props-8lbMlImM.js";import{r as xe}from"./margin.props-DI7zkkCN.js";function we(e){const t=e+"CollectionProvider",[r,o]=W(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),n=p=>{const{scope:h,children:S}=p,f=D.useRef(null),d=D.useRef(new Map).current;return x.jsx(s,{scope:h,itemMap:d,collectionRef:f,children:S})};n.displayName=t;const c=e+"CollectionSlot",l=D.forwardRef((p,h)=>{const{scope:S,children:f}=p,d=i(c,S),b=M(h,d.collectionRef);return x.jsx(X,{ref:b,children:f})});l.displayName=c;const g=e+"CollectionItemSlot",R="data-radix-collection-item",a=D.forwardRef((p,h)=>{const{scope:S,children:f,...d}=p,b=D.useRef(null),w=M(h,b),v=i(g,S);return D.useEffect(()=>(v.itemMap.set(b,{ref:b,...d}),()=>void v.itemMap.delete(b))),x.jsx(X,{[R]:"",ref:w,children:f})});a.displayName=g;function m(p){const h=i(e+"CollectionConsumer",p);return D.useCallback(()=>{const f=h.collectionRef.current;if(!f)return[];const d=Array.from(f.querySelectorAll(`[${R}]`));return Array.from(h.itemMap.values()).sort((v,C)=>d.indexOf(v.ref.current)-d.indexOf(C.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:n,Slot:l,ItemSlot:a},m,o]}var q=["PageUp","PageDown"],J=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Q={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},T="Slider",[z,Re,be]=we(T),[Z,at]=W(T,[be]),[ye,K]=Z(T),ee=u.forwardRef((e,t)=>{const{name:r,min:o=0,max:s=100,step:i=1,orientation:n="horizontal",disabled:c=!1,minStepsBetweenThumbs:l=0,defaultValue:g=[o],value:R,onValueChange:a=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:h,...S}=e,f=u.useRef(new Set),d=u.useRef(0),w=n==="horizontal"?Ce:Pe,[v=[],C]=ue({prop:R,defaultProp:g,onChange:y=>{var _;(_=[...f.current][d.current])==null||_.focus(),a(y)}}),k=u.useRef(v);function O(y){const P=Ie(v,y);N(y,P)}function le(y){N(y,d.current)}function de(){const y=k.current[d.current];v[d.current]!==y&&m(v)}function N(y,P,{commit:_}={commit:!1}){const F=je(i),B=Ve(Math.round((y-o)/i)*i+o,F),j=G(B,[o,s]);C((I=[])=>{const E=Me(I,j,P);if(Ne(E,l*i)){d.current=E.indexOf(j);const U=String(E)!==String(I);return U&&_&&m(E),U?E:I}else return I})}return x.jsx(ye,{scope:e.__scopeSlider,name:r,disabled:c,min:o,max:s,valueIndexToChangeRef:d,thumbs:f.current,values:v,orientation:n,form:h,children:x.jsx(z.Provider,{scope:e.__scopeSlider,children:x.jsx(z.Slot,{scope:e.__scopeSlider,children:x.jsx(w,{"aria-disabled":c,"data-disabled":c?"":void 0,...S,ref:t,onPointerDown:A(S.onPointerDown,()=>{c||(k.current=v)}),min:o,max:s,inverted:p,onSlideStart:c?void 0:O,onSlideMove:c?void 0:le,onSlideEnd:c?void 0:de,onHomeKeyDown:()=>!c&&N(o,0,{commit:!0}),onEndKeyDown:()=>!c&&N(s,v.length-1,{commit:!0}),onStepKeyDown:({event:y,direction:P})=>{if(!c){const B=q.includes(y.key)||y.shiftKey&&J.includes(y.key)?10:1,j=d.current,I=v[j],E=i*B*P;N(I+E,j,{commit:!0})}}})})})})});ee.displayName=T;var[te,oe]=Z(T,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ce=u.forwardRef((e,t)=>{const{min:r,max:o,dir:s,inverted:i,onSlideStart:n,onSlideMove:c,onSlideEnd:l,onStepKeyDown:g,...R}=e,[a,m]=u.useState(null),p=M(t,w=>m(w)),h=u.useRef(void 0),S=me(s),f=S==="ltr",d=f&&!i||!f&&i;function b(w){const v=h.current||a.getBoundingClientRect(),C=[0,v.width],O=$(C,d?[r,o]:[o,r]);return h.current=v,O(w-v.left)}return x.jsx(te,{scope:e.__scopeSlider,startEdge:d?"left":"right",endEdge:d?"right":"left",direction:d?1:-1,size:"width",children:x.jsx(ne,{dir:S,"data-orientation":"horizontal",...R,ref:p,style:{...R.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const v=b(w.clientX);n==null||n(v)},onSlideMove:w=>{const v=b(w.clientX);c==null||c(v)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:w=>{const C=Q[d?"from-left":"from-right"].includes(w.key);g==null||g({event:w,direction:C?-1:1})}})})}),Pe=u.forwardRef((e,t)=>{const{min:r,max:o,inverted:s,onSlideStart:i,onSlideMove:n,onSlideEnd:c,onStepKeyDown:l,...g}=e,R=u.useRef(null),a=M(t,R),m=u.useRef(void 0),p=!s;function h(S){const f=m.current||R.current.getBoundingClientRect(),d=[0,f.height],w=$(d,p?[o,r]:[r,o]);return m.current=f,w(S-f.top)}return x.jsx(te,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:x.jsx(ne,{"data-orientation":"vertical",...g,ref:a,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const f=h(S.clientY);i==null||i(f)},onSlideMove:S=>{const f=h(S.clientY);n==null||n(f)},onSlideEnd:()=>{m.current=void 0,c==null||c()},onStepKeyDown:S=>{const d=Q[p?"from-bottom":"from-top"].includes(S.key);l==null||l({event:S,direction:d?-1:1})}})})}),ne=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:o,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:n,onEndKeyDown:c,onStepKeyDown:l,...g}=e,R=K(T,r);return x.jsx(V.span,{...g,ref:t,onKeyDown:A(e.onKeyDown,a=>{a.key==="Home"?(n(a),a.preventDefault()):a.key==="End"?(c(a),a.preventDefault()):q.concat(J).includes(a.key)&&(l(a),a.preventDefault())}),onPointerDown:A(e.onPointerDown,a=>{const m=a.target;m.setPointerCapture(a.pointerId),a.preventDefault(),R.thumbs.has(m)?m.focus():o(a)}),onPointerMove:A(e.onPointerMove,a=>{a.target.hasPointerCapture(a.pointerId)&&s(a)}),onPointerUp:A(e.onPointerUp,a=>{const m=a.target;m.hasPointerCapture(a.pointerId)&&(m.releasePointerCapture(a.pointerId),i(a))})})}),re="SliderTrack",se=u.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=K(re,r);return x.jsx(V.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...o,ref:t})});se.displayName=re;var H="SliderRange",ie=u.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=K(H,r),i=oe(H,r),n=u.useRef(null),c=M(t,n),l=s.values.length,g=s.values.map(m=>ce(m,s.min,s.max)),R=l>1?Math.min(...g):0,a=100-Math.max(...g);return x.jsx(V.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...o,ref:c,style:{...e.style,[i.startEdge]:R+"%",[i.endEdge]:a+"%"}})});ie.displayName=H;var L="SliderThumb",ae=u.forwardRef((e,t)=>{const r=Re(e.__scopeSlider),[o,s]=u.useState(null),i=M(t,c=>s(c)),n=u.useMemo(()=>o?r().findIndex(c=>c.ref.current===o):-1,[r,o]);return x.jsx(Ee,{...e,ref:i,index:n})}),Ee=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:o,name:s,...i}=e,n=K(L,r),c=oe(L,r),[l,g]=u.useState(null),R=M(t,b=>g(b)),a=l?n.form||!!l.closest("form"):!0,m=fe(l),p=n.values[o],h=p===void 0?0:ce(p,n.min,n.max),S=_e(o,n.values.length),f=m==null?void 0:m[c.size],d=f?Ae(f,h,c.direction):0;return u.useEffect(()=>{if(l)return n.thumbs.add(l),()=>{n.thumbs.delete(l)}},[l,n.thumbs]),x.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${h}% + ${d}px)`},children:[x.jsx(z.ItemSlot,{scope:e.__scopeSlider,children:x.jsx(V.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":n.min,"aria-valuenow":p,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0,...i,ref:R,style:p===void 0?{display:"none"}:e.style,onFocus:A(e.onFocus,()=>{n.valueIndexToChangeRef.current=o})})}),a&&x.jsx(De,{name:s??(n.name?n.name+(n.values.length>1?"[]":""):void 0),form:n.form,value:p},o)]})});ae.displayName=L;var De=e=>{const{value:t,...r}=e,o=u.useRef(null),s=pe(t);return u.useEffect(()=>{const i=o.current,n=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(n,"value").set;if(s!==t&&l){const g=new Event("input",{bubbles:!0});l.call(i,t),i.dispatchEvent(g)}},[s,t]),x.jsx("input",{style:{display:"none"},...r,ref:o,defaultValue:t})};function Me(e=[],t,r){const o=[...e];return o[r]=t,o.sort((s,i)=>s-i)}function ce(e,t,r){const i=100/(r-t)*(e-t);return G(i,[0,100])}function _e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ie(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),o=Math.min(...r);return r.indexOf(o)}function Ae(e,t,r){const o=e/2,i=$([0,50],[0,o]);return(o-i(t)*r)*r}function Te(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Ne(e,t){if(t>0){const r=Te(e);return Math.min(...r)>=t}return!0}function $(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function je(e){return(String(e).split(".")[1]||"").length}function Ve(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ke=ee,ke=se,Oe=ie,Be=ae;const ze=["1","2","3"],He=["classic","surface","soft"],Le={size:{type:"enum",className:"rt-r-size",values:ze,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:He,default:"surface"},...Se,...he,...ve},$e=u.forwardRef((e,t)=>{const{className:r,color:o,radius:s,tabIndex:i,...n}=ge(e,Le,xe);return u.createElement(Ke,{"data-accent-color":o,"data-radius":s,ref:t,...n,asChild:!1,className:Y("rt-SliderRoot",r)},u.createElement(ke,{className:"rt-SliderTrack"},u.createElement(Oe,{className:Y("rt-SliderRange",{"rt-high-contrast":e.highContrast}),"data-inverted":n.inverted?"":void 0})),(n.value??n.defaultValue??[]).map((c,l)=>u.createElement(Be,{key:l,className:"rt-SliderThumb",...i!==void 0?{tabIndex:i}:void 0})))});$e.displayName="Slider";export{we as c,$e as s};
